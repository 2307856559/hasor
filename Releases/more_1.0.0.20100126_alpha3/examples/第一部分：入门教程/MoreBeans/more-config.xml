<beans staticCache="10" dynamicCache="50"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="beans-schema.xsd"
	xsi:schemaLocation="http://more.byshell.org/schema/anno anno-schema.xsd"
	xmlns:anno="http://more.byshell.org/schema/anno">

	<!-- 开启注解配置-->
	<anno:anno package="org.moretest.beans.*" />

	<!-- 基本类型Bean，String -->
	<bean name="base_String" type="java.lang.String">
		<constructor-arg type="String" value="测试字符串" />
	</bean>
	<bean name="base_Boolean" type="java.lang.Boolean">
		<constructor-arg type="String" value="true" />
	</bean>

	<!-- 最简单Bean配置 -->
	<bean name="xmlBean" type="org.moretest.beans._1_simple.XmlSimpleBean" />

	<!-- 单态配置，默认所有bean都是单态配置  -->
	<bean name="xmlSingletonBean" type="org.moretest.beans._2_singleton.XmlSingletonBean" singleton="false" />

	<!-- 延迟初始化，默认所有bean都是延迟的 -->
	<bean name="xmlLazyBean" type="org.moretest.beans._3_lazy.XmlLazyBean" lazyInit="false" />

	<!-- 构造方法注入创建Bean -->
	<bean name="xmlSimpleConstructorBean" type="org.moretest.beans._4_constructor.XmlSimpleConstructorBean">
		<constructor-arg type="int" value="123" />
		<constructor-arg type="float" value="3.14" />
		<constructor-arg type="String" value="测试字符串" />
	</bean>
	<bean name="xmlRefConstructorBean" type="org.moretest.beans._4_constructor.XmlRefConstructorBean">
		<constructor-arg type="org.moretest.beans._1_simple.XmlSimpleBean" refValue="xmlBean" />
	</bean>

	<!-- 基本数据类型注入 -->
	<bean name="xmlBaseTypeBean" type="org.moretest.beans._5_basetype.XmlBaseTypeBean">
		<property name="booleanData" type="boolean" value="true" />
		<property name="byteData" type="byte" value="123" />
		<property name="shortData" type="short" value="789" />
		<property name="intData" type="int" value="-1245" />
		<property name="longData" type="long" value="89898989" />
		<property name="floatData" type="float" value="235.65" />
		<property name="doubleData" type="double" value="-3.141592653" />
		<property name="stringData" type="String" value="测试字符串数据" />
	</bean>

	<!-- 四种引用类型注入 -->
	<bean name="xmlRefBean" type="org.moretest.beans._6_ref.XmlRefBean">
		<meta key="msg" value="附带的甜点信息字符串" />
		<!-- $Bean的附带信息作为注入数据。该类型信息只能是String类型 -->
		<property name="metaData" type="String" refValue="{$msg}" />
		<!-- 普通引用注入 -->
		<property name="xmlSimpleBean" type="org.moretest.beans._1_simple.XmlSimpleBean" refValue="xmlBean" />
		<!--@0意在在执行getBean()时候第二个附带参数数组中将下标为0的对象作为数据注入-->
		<property name="paramData" type="java.lang.Object" refValue="{@0}" />
		<!--#this意在将ioc容器BeanFactory作为数据注入-->
		<property name="beanFactory" type="org.more.beans.BeanFactory" refValue="{#this}" />
		<!--#apple意在将ioc容器BeanFactory中属性名称为apple的数据注入-->
		<property name="contextData" type="java.lang.Object" refValue="{#apple}" />
	</bean>

	<!-- 大文本注入的方式 -->
	<bean name="xmlBigStringBean_1" type="org.moretest.beans._7_bigstring.XmlBigStringBean">
		<property name="bigString" type="String">
			<!-- 注意CDATA标记与value标签之间应当紧凑否则可能注入错误的数据。 -->
			<value><![CDATA[id="" value="12" refValue="refBean|{#attName}|{@number}|{$mime}" type="int|byte|char|double|float|long|short|boolean|String"
id="" refValue="refBean|{#attName}|{@number}|{$mime}" type="int|byte|char|double|float|long|short|boolean|String"]]></value>
		</property>
	</bean>
	<bean name="xmlBigStringBean_2" type="org.moretest.beans._7_bigstring.XmlBigStringBean">
		<property name="bigString" type="String">
			<value>注意CDATA标记与value标签之间应当紧凑否则可能注入错误的数据。</value>
		</property>
	</bean>

	<!-- 一维数组类型注入(目前不支持二维数组) -->
	<bean name="xmlArrayBean" type="org.moretest.beans._8_array.XmlArrayBean">
		<meta key="msg" value="附带在Bean上" />
		<property name="intArray" type="int">
			<array>
				<value value="1" />
				<value value="2" />
				<value value="3" />
				<value value="4" />
			</array>
		</property>
		<property name="stringArray" type="String">
			<meta key="msg" value="附带的甜点信息字符串" />
			<array>
				<value value="字符串1" />
				<value type="String" refValue="{@0}" />
				<value refValue="base_String" />
				<value refValue="{$msg}" />
			</array>
		</property>
		<property name="objectArray" type="org.moretest.beans._1_simple.XmlSimpleBean">
			<array>
				<value refValue="xmlBean" />
				<value refValue="xmlBean" />
			</array>
		</property>
	</bean>
	<bean name="xmlConstructorArrayBean" type="org.moretest.beans._8_array.XmlConstructorArrayBean">
		<meta key="msg" value="附带在Bean上" />
		<constructor-arg type="int">
			<array>
				<value value="1" />
				<value value="2" />
				<value value="3" />
				<value value="4" />
			</array>
		</constructor-arg>
		<constructor-arg type="String">
			<meta key="msg" value="附带的甜点信息字符串" />
			<array>
				<value value="字符串1" />
				<value type="String" refValue="{@0}" />
				<value refValue="base_String" />
				<value refValue="{$msg}" />
			</array>
		</constructor-arg>
		<constructor-arg type="org.moretest.beans._1_simple.XmlSimpleBean">
			<array>
				<value refValue="xmlBean" />
				<value refValue="xmlBean" />
			</array>
		</constructor-arg>
	</bean>

	<!-- List类型的注入 -->
	<bean name="xmlListBean" type="org.moretest.beans._9_collection.XmlListBean">
		<!-- 要注入的目标对象属性类型 -->
		<property name="objectList" type="java.util.List">
			<!-- 具体实例化的类型 -->
			<list type="java.util.LinkedList">
				<value type="String" value="测试字符数据" />
				<value refValue="xmlBigStringBean_1" />
			</list>
		</property>
	</bean>
	
	<!-- Map类型的注入 -->
	<bean name="xmlMapBean" type="org.moretest.beans._9_collection.XmlMapBean">
		<property name="objectMap" type="java.util.Map">
			<map type="java.util.Hashtable">
				<entry>
					<mapKey>
						<value type="String" value="xmlBaseTypeBean" />
					</mapKey>
					<mapVar>
						<value refValue="xmlBaseTypeBean" />
					</mapVar>
				</entry>
				<entry>
					<mapKey>
						<value refValue="xmlBean" />
					</mapKey>
					<mapVar>
						<value refValue="xmlSimpleConstructorBean" />
					</mapVar>
				</entry>
			</map>
		</property>
	</bean>

	<!-- Set类型的注入 -->
	<bean name="xmlSetBean" type="org.moretest.beans._9_collection.XmlSetBean">
		<property name="objectSet" type="java.util.Set">
			<set type="java.util.LinkedHashSet">
				<value type="String" value="测试字符数据" />
				<value refValue="xmlRefBean" />
			</set>
		</property>
	</bean>

	<!-- AOP配置，xmlSimpleAopBean Bean配置了两个拦截器 -->
	<bean name="xmlAopFilterBean_1" type="org.moretest.beans._a_aop.XmlAopFilterBean" />
	<bean name="xmlAopFilterBean_2" type="org.moretest.beans._a_aop.XmlAopFilterBean" />
	<bean name="xmlSimpleAopBean" type="org.moretest.beans._a_aop.XmlSimpleAopBean" aopFilters-refBean="xmlAopFilterBean_1,xmlAopFilterBean_2"/>

	<!-- 附加接口实现 -->
	<bean name="xmlUserFace1" type="org.moretest.beans._b_impl.XmlUserFace1" /><!-- 要附加的接口1 -->
	<bean name="xmlImplDelegate" type="org.moretest.beans._b_impl.XmlImplDelegate" /><!-- 接口代理 -->
	<bean name="xmlImplBean" type="org.moretest.beans._b_impl.XmlImplBean">
		<addImpl refType="xmlUserFace1" delegate-refBean="xmlImplDelegate" />
		<addImpl type="org.moretest.beans._b_impl.XmlUserFace2" delegate-refBean="xmlImplDelegate" />
	</bean>
</beans>