<b:beans xmlns:b="http://project.byshell.org/more/schema/beans"
	xmlns:bc="http://project.byshell.org/more/schema/beans-config"
	xmlns:e="http://project.byshell.org/more/schema/engine"
	xmlns:el="http://project.byshell.org/more/schema/el-config"
	xmlns:aop="http://project.byshell.org/more/schema/aop"
	xmlns:anno="http://project.byshell.org/more/schema/beans-anno"
	xmlns:p="http://project.byshell.org/more/schema/point"
	xmlns:submit="http://project.byshell.org/more/schema/submit"
	xmlns:r="http://project.byshell.org/more/schema/remote">

	<b:meta key="rootPath"/><!-- 表示hypha的根路径 -->


	<!-- MetaData类型解析器的注册，当发生：InitEvent -->
	<bc:mdParser-config>
		<bc:parser mdType="SimpleType" class="org.more.hypha.beans.assembler.parser.SimpleType_MetaData_Parser" />
		<bc:parser mdType="Enum" class="org.more.hypha.beans.assembler.parser.Enum_MetaData_Parser" />
		<bc:parser mdType="RelationBean" class="org.more.hypha.beans.assembler.parser.RelationBean_MetaData_Parser" />
		<bc:parser mdType="ArrayCollection" class="org.more.hypha.beans.assembler.parser.ArrayCollection_MetaData_Parser" />
		<bc:parser mdType="ListCollection" class="org.more.hypha.beans.assembler.parser.ListCollection_MetaData_Parser" />
		<bc:parser mdType="SetCollection" class="org.more.hypha.beans.assembler.parser.SetCollection_MetaData_Parser" />
		<bc:parser mdType="MapCollection" class="org.more.hypha.beans.assembler.parser.MapCollection_MetaData_Parser" />
		<bc:parser mdType="File" class="org.more.hypha.beans.assembler.parser.File_MetaData_Parser" />
		<bc:parser mdType="URI" class="org.more.hypha.beans.assembler.parser.URI_MetaData_Parser" />
		<bc:parser mdType="BigText" class="org.more.hypha.beans.assembler.parser.BigText_MetaData_Parser" />
		<bc:parser mdType="Date" class="org.more.hypha.beans.assembler.parser.Date_MetaData_Parser" />
		<bc:parser mdType="EL" class="org.more.hypha.beans.assembler.parser.EL_MetaData_Parser" />
	</bc:mdParser-config>
	<!-- BeanType类型的注册，当发生：InitEvent -->
	<bc:beanType-config>
		<bc:beanType tName="TemplateBean" class="org.more.hypha.beans.assembler.builder.TemplateBeanBuilder" />
		<bc:beanType tName="ClassPathBean" class="org.more.hypha.beans.assembler.builder.ClassBeanBuilder" />
		<bc:beanType tName="RelationBean" class="org.more.hypha.beans.assembler.builder.RelationBeanBuilder" />
		<bc:beanType tName="VariableBean" class="org.more.hypha.beans.assembler.builder.VariableBeanBuilder" />
	</bc:beanType-config>
	<!-- Ioc引擎的注册，当发生：InitEvent -->
	<e:engine name="Ioc" class="org.more.hypha.commons.engine.engines.Ioc_Engine"/>
	<!-- e:engine name="Fact" class="org.more.hypha.commons.engine.engines.Fact_Engine"/-->
	<!-- 扩展点的注册，当发生：InitEvent -->
	<p:point name="$moreAppCacheBeanType" class="org.more.hypha.commons.point_support.objs.CacheLoadClassPoint"/>
	<!-- EL表达式对象注册，当发生：InitEvent -->
	<el:add name="$params" class="org.more.hypha.el.assembler.EO_Params" />
	<el:add name="$att" class="org.more.hypha.el.assembler.EO_Attribute" />
	<el:add name="$app" class="org.more.hypha.el.assembler.EO_App" />
	<el:add name="$context" class="org.more.hypha.el.assembler.EO_Context" />


	<!-- Submit v4.0 集成配置 -->
	<!-- <submit:config key="org.more.submit.SubmitService" value="org.more.submit.impl.DefaultSubmitService"/> 该配置说明使用的SubmitService实例类，该配置是默认配置 -->
	<!-- <b:classBean id="$more_submit_default_acBuilder" class="org.more.submit.assembler.DefaultACBuilder"/>-->	<!-- ACB的配置例子 -->
	<!-- <submit:acBuilder refBean="$more_submit_default_acBuilder"/>-->											<!-- ACB的配置例子 -->
	<!-- 注册AC，Simple的AC提供者。 -->
	<b:meta key="simple-loader"/><!-- 一个ClassLoader对象，该对象可以替换 AC_Simple使用的类装载器，默认使用当前线程的类装载器。-->
	<b:classBean id="$more_submit_simple_ac" class="org.more.submit.acs.simple.AC_Simple">
		<b:property name="classLoader" elText="$att['simple-loader']"/>
	</b:classBean>
	<submit:actionContext namespace="simple" refBean="$more_submit_simple_ac"/>	<!-- 注册命名空间simple -->
	<!-- 注册AC，Hypha的AC提供者。 -->
	<b:classBean id="$more_submit_hypha_ac" class="org.more.submit.acs.hypha.AC_Hypha">
		<!-- 使用EL将hypha的上下文注入进去。 -->
		<b:property name="applicationContext" elText="$app"/>
		<!-- 由于是继承关系因此，可以使用该属性进行注入 -->
		<b:property name="classLoader" elText="$att['simple-loader']"/>
	</b:classBean>
	<submit:actionContext namespace="hypha" refBean="$more_submit_hypha_ac"/><!-- 注册命名空间hypha -->	
	<!-- 默认AC -->
	<submit:defaultAC defaultAC="simple"/>


	<!-- 将结果集原样return -->
	<submit:result match="return" class="org.more.submit.result.ReturnResultProcess"/>
	<!-- 将结果集转换成json对象 -->
	<submit:result match="json" class="org.more.submit.result.JsonResultProcess">
		<submit:config key="border" value="'"/><!-- 字符串分隔符是单引号还是双引号 -->
	</submit:result>
	<!-- 请求其他action -->
	<submit:result match="submitAction" class="org.more.submit.result.ActionResultProcess"/>


	<!-- RMI -->
	<!-- <r:remote name="" faces="" refBean="" forPublisher=""/>
	<r:remoteDirectory refBean="" forPublisher=""/> -->
	<!-- remotePublisher，发布者会在rmi中注册一个与pathRoot一致名称的RMI远程对象。属性name等于‘""’的发布者是默认发布者。 -->
	<r:remotePublisher name="" path="/" bindPort="1099" bindAddress="localhost"/>
	<!-- 如没有指定forPublisher属性则使用默认发布者，默认的发布者名称为空。 -->
	<b:classBean id="$more_rmi_DefaultRmiDirectory" class="org.more.remote.objects.HyphaRmiBeanDirectory">
		<b:property name="applicationContext" elText="$app"/>
	</b:classBean>
	<r:remoteDirectory refBean="$more_rmi_DefaultRmiDirectory"/>
	<!-- 默认RMI是关闭的 -->
	<r:remoteEnable enable="false"/>


	<anno:anno package="org.more.*" enable="true"/>
	<b:defaultPackage />
</b:beans>