<?xml version="1.0" encoding="UTF-8"?>
<project name="More Ant" default="mack-package">
	<description>生成项目，并将项目打包到jar中</description>
	<!-- ================================================================ -->
	<property name="src" location="src" />
	<property name="bin" location="bin" />
	<property name="varsion" value="1.0.0.091223_alpha2" />
	<property name="outjar" location="../bin/more_${varsion}.jar" />
	<property name="outDoc" location="../docs/api" />
	<!-- ================================================================ -->
	<path id="class_path">
		<fileset dir="">
			<include name="**/*.jar" />
		</fileset>
	</path>
	<!-- ================================================================ -->
	<target name="mack-package">
		<echo>正在准备输出目录...【${bin}】</echo>
		<mkdir dir="${bin}" />
		<echo>正在进行编译...</echo>
		<javac srcdir="${src}" destdir="${bin}\" classpathref="class_path" />
		<echo>生成jar...【${outjar}】</echo>
		<copydir dest="bin" src="${src}">
			<exclude name="**/*.java" />
			<exclude name="**/doc-files/*.*" />
			<exclude name="**/package.html" />
		</copydir>
		<jar destfile="${outjar}" basedir="${bin}">
			<exclude name="**/doc-files/*.*" />
			<exclude name="**/package.html" />
		</jar>
		<!--
		<echo>导出源代码中的Doc...【${outDoc}】</echo>
		<javadoc destdir="${outDoc}" encoding="gbk" docencoding="gbk" doctitle="More API">
			<packageset dir="${src}" />
		</javadoc>
		-->
	</target>
</project>